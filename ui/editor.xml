<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">
<!--
	Â© Justin Snelgrove

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
	<!-- Here there be dragons. XML dragons, the most dangerous sort. -->
	<!-- It's dangerous to go alone, take a syntax highlighter. -->
	<!-- No, seriously, though. This is the easiest way to get a good UI. -->
	<CheckButton name="XRPEditorInheritCheckTemplate" inherits="XRPCheckBoxArtTemplate" virtual="true">
		<Size x="12" y="12"/>
		<Scripts>
			<OnEnter>
				GameTooltip:SetOwner(self, "ANCHOR_CURSOR")
				GameTooltip:SetText("Use parent profile if blank.")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
			<OnClick>
				local parent = self:GetParent()
				parent:GetParent():GetParent():CheckFields(parent.field)
			</OnClick>
		</Scripts>
	</CheckButton>
	<EditBox name="XRPEditorSingleLineTemplate" autoFocus="false" inherits="InputBoxTemplate" virtual="true">
		<KeyValues>
			<KeyValue key="inherited" value="false" type="boolean"/>
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Label" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="-2" y="-1"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton parentKey="Inherit" inherits="XRPEditorInheritCheckTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.Label" relativePoint="RIGHT"/>
				</Anchors>
			</CheckButton>
		</Frames>
		<Scripts>
			<OnAttributeChanged>
				if name == "contents" then
					self.contents = value
					self:SetText(value or "")
					self:SetCursorPosition(0)
				elseif name == "inherited" then
					if value == true and not self.inherited then
						self:SetTextColor(GRAY_FONT_COLOR.r, GRAY_FONT_COLOR.g, GRAY_FONT_COLOR.b)
						self.inherited = true
					elseif value == false and self.inherited then
						self:SetTextColor(self:GetFontObject():GetTextColor())
						self.inherited = false
					end
				end
			</OnAttributeChanged>
			<OnTabPressed>
				self:GetParent():GetParent().fields[self.nextField]:SetFocus()
			</OnTabPressed>
			<OnTextChanged>
				if userInput then
					local text = self:GetText()
					self.contents = text ~= "" and text or nil
					self:GetParent():GetParent():CheckFields(self.field)
				end
			</OnTextChanged>
			<OnEditFocusGained>
				if self.inherited then
					self:SetAttribute("inherited", false)
					self:SetAttribute("contents", nil)
				end
			</OnEditFocusGained>
			<OnEditFocusLost>
				self:ClearFocus()
				self:GetParent():GetParent():CheckFields(self.field)
			</OnEditFocusLost>
			<OnLoad>
				self.Label:SetText(self.fieldName)
				local editor = self:GetParent():GetParent()
				if not editor.fields then
					editor.fields = {}
				end
				editor.fields[self.field] = self
			</OnLoad>
		</Scripts>
		<FontString inherits="GameFontWhite"/>
	</EditBox>
	<ScrollFrame name="XRPEditorMultiLineTemplate" inherits="XRPScrollFrameArtTemplate" virtual="true">
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Label" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="-2" y="5"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton parentKey="Inherit" inherits="XRPEditorInheritCheckTemplate">
				<Anchors>
					<Anchor point="LEFT" relativekey="$parent.Label" relativePoint="RIGHT"/>
				</Anchors>
			</CheckButton>
			<Button parentKey="FocusButton" setAllPoints="true">
				<Scripts>
					<OnClick>
						local editbox = self:GetParent().EditBox
						editbox:SetFocus()
						editbox:SetCursorPosition(#editbox:GetText())
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self.ScrollBar:SetFrameLevel(self.FocusButton:GetFrameLevel() + 2)
				self.ScrollBar:ClearAllPoints()
				self.ScrollBar:SetPoint("TOPLEFT", self, "TOPRIGHT", -13, -11)
				self.ScrollBar:SetPoint("BOTTOMLEFT", self, "BOTTOMRIGHT", -13, 9)
				self.ScrollBar.ScrollDownButton:SetPoint("TOP", self.ScrollBar, "BOTTOM", 0, 4)
				self.ScrollBar.ScrollUpButton:SetPoint("BOTTOM", self.ScrollBar, "TOP", 0, -4)
				self.ScrollBar.ScrollUpButton:Disable()
				self.scrollBarHideable = 1
				self.ScrollBar:Hide()
				self.EditBox:SetFrameLevel(self.FocusButton:GetFrameLevel() + 1)
				self.EditBox:SetWidth(self:GetWidth() - 18)

				self.Label:SetText(self.fieldName)
				self.EditBox.field = self.field
				self.EditBox.Inherit = self.Inherit

				local editor = self:GetParent():GetParent()
				if not editor.fields then
					editor.fields = {}
				end
				editor.fields[self.field] = self.EditBox
			</OnLoad>
		</Scripts>
		<ScrollChild>
			<EditBox parentKey="EditBox" multiLine="true" letters="131071" countInvisibleLetters="true" autoFocus="false">
				<KeyValues>
					<KeyValue key="inherited" value="false" type="boolean"/>
				</KeyValues>
				<Anchors>
					<Anchor point="TOPLEFT"/>
				</Anchors>
				<Scripts>
					<OnAttributeChanged>
						if name == "contents" then
							self.contents = value
							self:SetText(value or "")
							self:SetCursorPosition(0)
						elseif name == "inherited" then
							if value == true and not self.inherited then
								self:SetTextColor(GRAY_FONT_COLOR.r, GRAY_FONT_COLOR.g, GRAY_FONT_COLOR.b)
								self.inherited = true
							elseif value == false and self.inherited then
								self:SetTextColor(self:GetFontObject():GetTextColor())
								self.inherited = false
							end
						end
					</OnAttributeChanged>
					<OnTabPressed>
						local parent = self:GetParent()
						parent:GetParent():GetParent().fields[parent.nextField]:SetFocus()
					</OnTabPressed>
					<OnTextChanged>
						local parent = self:GetParent()
						ScrollingEdit_OnTextChanged(self, parent)
						if userInput then
							local text = self:GetText()
							self.contents = text ~= "" and text or nil
							parent:GetParent():GetParent():CheckFields(parent.field)
						end
					</OnTextChanged>
					<OnCursorChanged function="ScrollingEdit_OnCursorChanged"/>
					<OnUpdate>
						ScrollingEdit_OnUpdate(self, elapsed, self:GetParent())
					</OnUpdate>
					<OnEscapePressed>
						self:ClearFocus()
					</OnEscapePressed>
					<OnEditFocusGained>
						if self.inherited then
							self:SetAttribute("inherited", false)
							self:SetAttribute("contents", nil)
						end
					</OnEditFocusGained>
					<OnEditFocusLost>
						self:ClearFocus()
						self:GetParent():GetParent():GetParent():CheckFields(self.field)
					</OnEditFocusLost>
				</Scripts>
				<FontString inherits="GameFontWhite"/>
			</EditBox>
		</ScrollChild>
	</ScrollFrame>
	<Frame name="XRPEditorDropDownTemplate" inherits="XRPDropDownTemplate" virtual="true">
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Label" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="22" y="-2"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
	</Frame>
	<Button name="XRPEditorProfileControlTemplate" inherits="UIPanelButtonTemplate" virtual="true">
		<Size x="28" y="28"/>
		<Scripts>
			<OnClick>
				local editor = self:GetParent()
				StaticPopup_Show(self.popupName, editor.Profiles.contents, nil, editor)
			</OnClick>
			<OnEnter>
				GameTooltip:SetOwner(self, "ANCHOR_CURSOR")
				GameTooltip:SetText(self.tooltipText)
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
	<Frame name="XRPEditorTemplate" inherits="ButtonFrameTemplate" hidden="true" enableMouse="true" virtual="true">
		<Size x="439" y="525"/>
		<Layers>
			<Layer level="OVERLAY">
				<!-- Parent Profile -->
				<FontString parentKey="ParentLabel" inherits="GameFontNormalSmall" text="Parent profile:">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" x="8" y="10"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="Appearance" parentArray="panes" hidden="false">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.Inset" relativePoint="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Inset" relativePoint="BOTTOMRIGHT"/>
				</Anchors>
				<Frames>
					<!-- Name -->
					<EditBox parentKey="NA" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="NA"/>
							<KeyValue key="fieldName" value="Name"/>
							<KeyValue key="nextField" value="NI"/>
						</KeyValues>
						<Size x="186" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="14" y="-18"/>
						</Anchors>
					</EditBox>
					<!-- Nickname -->
					<EditBox parentKey="NI" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="NI"/>
							<KeyValue key="fieldName" value="Nickname"/>
							<KeyValue key="nextField" value="AH"/>
						</KeyValues>
						<Size x="136" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.NA" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Height -->
					<EditBox parentKey="AH" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="AH"/>
							<KeyValue key="fieldName" value="Height"/>
							<KeyValue key="nextField" value="NT"/>
						</KeyValues>
						<Size x="65" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.NI" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Title -->
					<EditBox parentKey="NT" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="NT"/>
							<KeyValue key="fieldName" value="Title"/>
							<KeyValue key="nextField" value="NH"/>
						</KeyValues>
						<Size x="186" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.NA" relativePoint="BOTTOMLEFT" y="-15"/>
						</Anchors>
					</EditBox>
					<!-- House/Clan/Tribe -->
					<EditBox parentKey="NH" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="NH"/>
							<KeyValue key="fieldName" value="House/Clan/Tribe"/>
							<KeyValue key="nextField" value="AW"/>
						</KeyValues>
						<Size x="136" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.NT" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Weight -->
					<EditBox parentKey="AW" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="AW"/>
							<KeyValue key="fieldName" value="Weight"/>
							<KeyValue key="nextField" value="AE"/>
						</KeyValues>
						<Size x="65" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.NH" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Eyes -->
					<EditBox parentKey="AE" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="AE"/>
							<KeyValue key="fieldName" value="Eyes"/>
							<KeyValue key="nextField" value="RA"/>
						</KeyValues>
						<Size x="125" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.NT" relativePoint="BOTTOMLEFT" y="-15"/>
						</Anchors>
					</EditBox>
					<!-- Race -->
					<EditBox parentKey="RA" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="RA"/>
							<KeyValue key="fieldName" value="Race"/>
							<KeyValue key="nextField" value="RC"/>
						</KeyValues>
						<Size x="131" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.AE" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Class -->
					<EditBox parentKey="RC" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="RC"/>
							<KeyValue key="fieldName" value="Class"/>
							<KeyValue key="nextField" value="CU"/>
						</KeyValues>
						<Size x="131" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.RA" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Currently -->
					<EditBox parentKey="CU" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="CU"/>
							<KeyValue key="fieldName" value="Currently"/>
							<KeyValue key="nextField" value="DE"/>
						</KeyValues>
						<Size x="407" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.AE" relativePoint="BOTTOMLEFT" y="-15"/>
						</Anchors>
					</EditBox>
					<!-- Description -->
					<ScrollFrame name="$parentDE" parentKey="DE" inherits="XRPEditorMultiLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="DE"/>
							<KeyValue key="fieldName" value="Description"/>
							<KeyValue key="nextField" value="NA"/>
						</KeyValues>
						<Size x="402" y="264"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.CU" relativePoint="BOTTOMLEFT" y="-20"/>
						</Anchors>
					</ScrollFrame>
				</Frames>
			</Frame>
			<Frame parentKey="Biography" parentArray="panes" hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.Inset" relativePoint="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Inset" relativePoint="BOTTOMRIGHT"/>
				</Anchors>
				<Frames>
					<!-- Age -->
					<EditBox parentKey="AG" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="AG"/>
							<KeyValue key="fieldName" value="Age"/>
							<KeyValue key="nextField" value="HH"/>
						</KeyValues>
						<Size x="65" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="14" y="-18"/>
						</Anchors>
					</EditBox>
					<!-- Home -->
					<EditBox parentKey="HH" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="HH"/>
							<KeyValue key="fieldName" value="Home"/>
							<KeyValue key="nextField" value="HB"/>
						</KeyValues>
						<Size x="161" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.AG" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Birthplace -->
					<EditBox parentKey="HB" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="HB"/>
							<KeyValue key="fieldName" value="Birthplace"/>
							<KeyValue key="nextField" value="MO"/>
						</KeyValues>
						<Size x="161" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.HH" relativePoint="RIGHT" x="10"/>
						</Anchors>
					</EditBox>
					<!-- Motto -->
					<EditBox parentKey="MO" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="MO"/>
							<KeyValue key="fieldName" value="Motto"/>
							<KeyValue key="nextField" value="HI"/>
						</KeyValues>
						<Size x="407" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.AG" relativePoint="BOTTOMLEFT" y="-15"/>
						</Anchors>
					</EditBox>
					<!-- History -->
					<ScrollFrame name="$parentHI" parentKey="HI" inherits="XRPEditorMultiLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="HI"/>
							<KeyValue key="fieldName" value="History"/>
							<KeyValue key="nextField" value="FR"/>
						</KeyValues>
						<Size x="402" y="294"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.MO" relativePoint="BOTTOMLEFT" y="-20"/>
						</Anchors>
					</ScrollFrame>
					<!-- Roleplaying style -->
					<EditBox parentKey="FR" inherits="XRPEditorSingleLineTemplate">
						<KeyValues>
							<KeyValue key="field" value="FR"/>
							<KeyValue key="fieldName" value="Roleplaying style"/>
							<KeyValue key="nextField" value="AG"/>
						</KeyValues>
						<Size x="199" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.HI" relativePoint="BOTTOMLEFT" y="-19"/>
						</Anchors>
					</EditBox>
					<!-- Character status -->
					<Frame name="$parentMenuFC" parentKey="FC" inherits="XRPEditorDropDownTemplate">
						<KeyValues>
							<KeyValue key="field" value="FC"/>
							<KeyValue key="fieldName" value="Character status"/>
							<KeyValue key="inherited" value="false" type="boolean"/>
						</KeyValues>
						<Frames>
							<CheckButton parentKey="Inherit" inherits="XRPEditorInheritCheckTemplate">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.Label" relativePoint="RIGHT"/>
								</Anchors>
							</CheckButton>
						</Frames>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.FR" relativePoint="RIGHT" x="-13" y="-5"/>
						</Anchors>
						<Scripts>
							<OnAttributeChanged>
								if name == "contents" then
									self.contents = value
									self.MenuText:SetText(xrp.values[self.field][value or "0"])
								elseif name == "inherited" then
									if value == true and not self.inherited then
										self.MenuText:SetTextColor(GRAY_FONT_COLOR.r, GRAY_FONT_COLOR.g, GRAY_FONT_COLOR.b)
										self.inherited = true
									elseif value == false and self.inherited then
										self.MenuText:SetTextColor(self.MenuText:GetFontObject():GetTextColor())
										self.inherited = false
									end
								end
							</OnAttributeChanged>
							<OnLoad>
								self.Label:SetText(self.fieldName)
								self:GetParent():GetParent().fields[self.field] = self
								UIDropDownMenu_SetWidth(self, 188, 0)
							</OnLoad>
						</Scripts>
					</Frame>
				</Frames>
			</Frame>
			<!-- Saved Character Profiles -->
			<Button name="$parentProfiles" parentKey="Profiles" inherits="XRPDropDownTemplate">
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-225" y="-27"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						UIDropDownMenu_SetWidth(self, 100, 0)
					</OnLoad>
				</Scripts>
			</Button>
			<!-- + Profile Button -->
			<Button parentKey="PlusProfile" inherits="XRPEditorProfileControlTemplate" text=" + ">
				<KeyValues>
					<KeyValue key="popupName" value="XRP_EDITOR_ADD"/>
					<KeyValue key="tooltipText" value="Add"/>
				</KeyValues>
				<Size x="28" y="28"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.Profiles" relativePoint="RIGHT" x="34" y="2"/>
				</Anchors>
			</Button>
			<!-- - Profile Button -->
			<Button parentKey="MinusProfile" inherits="XRPEditorProfileControlTemplate" text=" - ">
				<KeyValues>
					<KeyValue key="popupName" value="XRP_EDITOR_DELETE"/>
					<KeyValue key="tooltipText" value="Delete"/>
				</KeyValues>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.PlusProfile" relativePoint="RIGHT"/>
				</Anchors>
			</Button>
			<!-- R Profile Button -->
			<Button parentKey="RenameProfile" inherits="XRPEditorProfileControlTemplate" text=" R ">
				<KeyValues>
					<KeyValue key="popupName" value="XRP_EDITOR_RENAME"/>
					<KeyValue key="tooltipText" value="Rename"/>
				</KeyValues>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.MinusProfile" relativePoint="RIGHT"/>
				</Anchors>
			</Button>
			<!-- C Profile Button -->
			<Button parentKey="CopyProfile" inherits="XRPEditorProfileControlTemplate" text=" C ">
				<KeyValues>
					<KeyValue key="popupName" value="XRP_EDITOR_COPY"/>
					<KeyValue key="tooltipText" value="Copy"/>
				</KeyValues>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.RenameProfile" relativePoint="RIGHT"/>
				</Anchors>
			</Button>
			<!-- Auto Button -->
			<Button parentKey="AutoButton" inherits="XRPEditorProfileControlTemplate" text="Auto">
				<KeyValues>
					<KeyValue key="tooltipText" value="Setup automated profile swapping."/>
				</KeyValues>
				<Size x="50" y="28"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.CopyProfile" relativePoint="RIGHT" x="22"/>
				</Anchors>
				<Scripts>
					<OnClick>
						local auto = self:GetParent().Automation
						if auto:IsVisible() then
							auto:Hide()
						else
							auto:Show()
						end
					</OnClick>
				</Scripts>
			</Button>
			<!-- Parent Profile -->
			<Button parentKey="Parent" inherits="MagicButtonTemplate">
				<Size x="192" y="22"/>
				<KeyValues>
					<KeyValue key="initialize" value="EasyMenu_Initialize" type="global"/>
					<!-- This is kinda a hack. -->
					<KeyValue key="SetHeight" value="assert" type="global"/>
					<KeyValue key="xOffset" value="0" type="number"/>
					<KeyValue key="yOffset" value="0" type="number"/>
				</KeyValues>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						ToggleDropDownMenu(nil, nil, self, self, nil, nil, self.baseMenuList)
						PlaySound("igMainMenuOptionCheckBoxOn")
					</OnClick>
					<OnHide>
						CloseDropDownMenus()
					</OnHide>
				</Scripts>
			</Button>
			<!-- Save Button -->
			<Button parentKey="SaveButton" inherits="MagicButtonTemplate" text="Save">
				<Size x="96" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
				</Anchors>
			</Button>
			<!-- Revert Button -->
			<Button parentKey="RevertButton" inherits="MagicButtonTemplate" text="Revert">
				<Size x="96" y="22"/>
				<Anchors>
					<Anchor point="TOPRIGHT" relativeKey="$parent.SaveButton" relativePoint="TOPLEFT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						local parent = self:GetParent()
						parent:Load(parent.Profiles.contents)
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parentTab1" parentKey="Tab1" inherits="XRPTabButtonTemplate" id="1" text="Appearance">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" y="1"/>
				</Anchors>
			</Button>
			<Button name="$parentTab2" parentKey="Tab2" inherits="XRPTabButtonTemplate" id="2" text="Biography">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.Tab1" relativePoint="RIGHT" x="-16"/>
				</Anchors>
			</Button>
			<Frame parentKey="Automation" enableMouse="true" hidden="true">
				<Size x="209" y="175"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" y="-28"/>
				</Anchors>
				<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background-Dark" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
					<BackgroundInsets>
						<AbsInset left="11" right="12" top="12" bottom="11"/>
					</BackgroundInsets>
					<TileSize>
						<AbsValue val="32"/>
					</TileSize>
					<EdgeSize>
						<AbsValue val="32"/>
					</EdgeSize>
				</Backdrop>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\RaidFrame\UI-RaidInfo-Header">
							<Size x="189" y="47"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="10" y="-9"/>
							</Anchors>
							<TexCoords left="0.18164" right="0.81640" top="0.578125" bottom="0.94531"/>
						</Texture>
						<Texture file="Interface\RaidFrame\UI-RaidInfo-Header">
							<Size x="190" y="29"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" x="9" y="9"/>
							</Anchors>
							<TexCoords left="0.18164" right="0.81640" top="0.08593" bottom="0.3125"/>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<Texture file="Interface\DialogFrame\UI-DialogBox-Corner">
							<Size x="32" y="32"/>
							<Anchors>
								<Anchor point="TOPRIGHT" x="-6" y="-7"/>
							</Anchors>
						</Texture>
						<Texture parentKey="Header" file="Interface\DialogFrame\UI-DialogBox-Header">
							<Size x="222" y="64"/>
							<Anchors>
								<Anchor point="TOP" y="12"/>
							</Anchors>
						</Texture>
						<FontString inherits="GameFontNormal" text="Automation">
							<Size x="185" y="12"/>
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.Header" y="-14"/>
							</Anchors>
						</FontString>
						<!-- Warning -->
						<FontString parentKey="Warning" inherits="GameFontRedSmall" maxLines="2" hidden="true">
							<Size x="185" y="36"/>
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.Header" relativePoint="TOP" y="-36"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button inherits="UIPanelCloseButton">
						<Anchors>
							<Anchor point="TOPRIGHT" x="-2" y="-3"/>
						</Anchors>
					</Button>
					<!-- Form -->
					<Frame name="$parentAutoForm" parentKey="Form" inherits="XRPEditorDropDownTemplate">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT" y="-68"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								UIDropDownMenu_SetWidth(self, 159, 0)
								self.Label:SetText("Form/set:")
							</OnLoad>
						</Scripts>
					</Frame>
					<!-- Profile -->
					<Frame name="$parentAutoProfile" parentKey="Profile" inherits="XRPEditorDropDownTemplate">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.Form" relativePoint="BOTTOMLEFT" y="-8"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								UIDropDownMenu_SetWidth(self, 159, 0)
								self.Label:SetText("Profile for selected form/set:")
							</OnLoad>
						</Scripts>
					</Frame>
					<Button parentKey="Save" inherits="UIPanelButtonTemplate" text="Save">
						<Size x="90" y="20"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" x="-14" y="13"/>
						</Anchors>
						<NormalFont style="GameFontNormalSmall"/>
						<HighlightFont style="GameFontHighlightSmall"/>
						<DisabledFont style="GameFontDisableSmall"/>
					</Button>
					<Button parentKey="Revert" inherits="UIPanelButtonTemplate" text="Revert">
						<Size x="90" y="20"/>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent.Save" relativePoint="TOPLEFT"/>
						</Anchors>
						<NormalFont style="GameFontNormalSmall"/>
						<HighlightFont style="GameFontHighlightSmall"/>
						<DisabledFont style="GameFontDisableSmall"/>
					</Button>
				</Frames>
				<Scripts>
					<OnHide>
						PlaySound("UChatScrollButton")
					</OnHide>
				</Scripts>
			</Frame>
		</Frames>
		<Attributes>
			<Attribute name="UIPanelLayout-defined" type="boolean" value="true"/>
			<Attribute name="UIPanelLayout-enabled" type="boolean" value="true"/>
			<Attribute name="UIPanelLayout-area" type="string" value="left"/>
			<Attribute name="UIPanelLayout-pushable" type="number" value="4"/>
			<Attribute name="UIPanelLayout-height" type="number" value="545"/>
			<Attribute name="UIPanelLayout-whileDead" type="boolean" value="true"/>
		</Attributes>
		<Scripts>
			<OnLoad>
				PanelTemplates_SetNumTabs(self, #self.panes)
				PanelTemplates_SetTab(self, 1)
				self.TitleText:SetText("Profile Editor")
				self.modified = {}
			</OnLoad>
			<OnShow>
				SetPortraitTexture(self.portrait, "player")
				PlaySound("igCharacterInfoOpen")
				if self.RevertButton:GetButtonState() == "DISABLED" and self.Profiles.contents ~= xrpSaved.selected then
					self:Load(xrpSaved.selected)
				end
			</OnShow>
			<OnHide>
				self.Automation:Hide()
				PlaySound("igCharacterInfoClose")
			</OnHide>
		</Scripts>
	</Frame>
	<Script file="automation.lua"/>
	<Script file="editor.lua"/>
</Ui>
