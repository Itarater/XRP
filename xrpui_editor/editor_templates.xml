<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">
<!--
	Â© Justin Snelgrove

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
	<EditBox name="FancyInputBoxTemplate" inherits="InputBoxTemplate" virtual="true">
		<Scripts>
			<OnTabPressed>
				if (self.nextEditBox) then
					self.nextEditBox:SetFocus();
				end
			</OnTabPressed>
		</Scripts>
		<FontString inherits="GameFontWhite"/>
	</EditBox>
	<ScrollFrame name="LargeInputScrollFrameTemplate" inherits="UIPanelScrollFrameTemplate" virtual="true">
		<Size x="278" y="48"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="TopLeftTex" file="Interface\Common\Common-Input-Border-TL">
					<Size x="8" y="8"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="-5" y="5"/>
					</Anchors>
				</Texture>
				<Texture parentKey="TopRightTex" file="Interface\Common\Common-Input-Border-TR">
					<Size x="8" y="8"/>
					<Anchors>
						<Anchor point="TOPRIGHT" x="5" y="5"/>
					</Anchors>
				</Texture>
				<Texture parentKey="TopTex" file="Interface\Common\Common-Input-Border-T">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.TopLeftTex" relativePoint="TOPRIGHT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.TopRightTex" relativePoint="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="BottomLeftTex" file="Interface\Common\Common-Input-Border-BL">
					<Size x="8" y="8"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="-5" y="-5"/>
					</Anchors>
				</Texture>
				<Texture parentKey="BottomRightTex" file="Interface\Common\Common-Input-Border-BR">
					<Size x="8" y="8"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="5" y="-5"/>
					</Anchors>
				</Texture>
				<Texture parentKey="BottomTex" file="Interface\Common\Common-Input-Border-B">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.BottomLeftTex" relativePoint="TOPRIGHT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomRightTex" relativePoint="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="LeftTex" file="Interface\Common\Common-Input-Border-L">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.TopLeftTex" relativePoint="BOTTOMLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomLeftTex" relativePoint="TOPRIGHT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="RightTex" file="Interface\Common\Common-Input-Border-R">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.TopRightTex" relativePoint="BOTTOMLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomRightTex" relativePoint="TOPRIGHT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="MiddleTex" file="Interface\Common\Common-Input-Border-M">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.LeftTex" relativePoint="TOPRIGHT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.RightTex" relativePoint="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentFocusButton" parentKey="FocusButton" setAllPoints="true">
				<Scripts>
					<OnClick>
						self:GetParent().EditBox:SetFocus();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad function="InputScrollFrame_OnLoad"/>
		</Scripts>
		<ScrollChild>
			<EditBox parentKey="EditBox" multiLine="true" letters="65536" countInvisibleLetters="true" autoFocus="false">
				<Size x="1" y="1"/>
				<Anchors>
					<Anchor point="TOPLEFT"/>
				</Anchors>
				<Scripts>
					<OnTabPressed>
						if (self.nextEditBox) then
							self.nextEditBox:SetFocus();
						end
					</OnTabPressed>
					<OnTextChanged>
						local scrollFrame = self:GetParent();
						ScrollingEdit_OnTextChanged(self, scrollFrame);
					</OnTextChanged>
					<OnCursorChanged function="ScrollingEdit_OnCursorChanged"/>
					<OnUpdate>
						ScrollingEdit_OnUpdate(self, elapsed, self:GetParent());
					</OnUpdate>
					<OnEscapePressed>
						self:ClearFocus();
					</OnEscapePressed>
					<!--FocusButton prevents the use of the mouse to select
						 text by default. Hiding it while editing fixes
						 this.-->
					<OnEditFocusGained>
						self:GetParent().FocusButton:Hide();
					</OnEditFocusGained>
					<OnEditFocusLost>
						self:GetParent().FocusButton:Show();
					</OnEditFocusLost>
				</Scripts>
				<FontString inherits="GameFontWhite"/>
			</EditBox>
		</ScrollChild>
	</ScrollFrame>
</Ui>
