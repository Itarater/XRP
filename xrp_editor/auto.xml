<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">
<!--
	Â© Justin Snelgrove

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
	<!-- Here there be dragons. XML dragons, the most dangerous sort. -->
	<!-- It's dangerous to go alone, take a syntax highlighter. -->
	<!-- No, seriously, though. This is the easiest way to get a good UI. -->
	<Frame name="XRPAuto" toplevel="true" movable="true" parent="UIParent" enableMouse="true" inherits="ButtonFrameTemplate" hidden="true">
		<Size x="300" y="225"/>
		<Layers>
			<Layer level="OVERLAY">
				<!-- Warning -->
				<FontString parentKey="Warning" inherits="GameFontRedSmall" maxLines="3">
					<Size x="200"/>
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP" x="24" y="-27"/>
					</Anchors>
				</FontString>
				<!-- Form Label -->
				<FontString parentKey="FormLabel" inherits="GameFontNormalSmall" text="XRP_AUTO_FORM">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Inset" relativePoint="TOPLEFT" x="12" y="-8"/>
					</Anchors>
				</FontString>
				<!-- Profile Label -->
				<FontString parentKey="ProfileLabel" inherits="GameFontNormalSmall" text="XRP_AUTO_PROFILE">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.FormLabel" relativePoint="BOTTOMLEFT" x="0" y="-35"/>
					</Anchors>
				</FontString>
				<!-- Status -->
				<FontString parentKey="Status" inherits="GameFontGreenSmall" maxLines="3" text="XRP_AUTO_INSTRUCTIONS">
					<Size x="250"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.Inset" relativePoint="TOP" x="0" y="-97"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<!-- Form -->
			<Button name="XRPAutoForm" parentKey="Form" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.FormLabel" relativePoint="BOTTOMLEFT" x="-22" y="0"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						UIDropDownMenu_SetWidth(self, 260, 0);
						self.Text = _G[self:GetName().."Text"];
						function self:SetText(value)
							UIDropDownMenu_Initialize(self, self.initialize, nil, nil, self.forms);
							self:SetValue(value);
						end;
						function self:SetValue(value)
							UIDropDownMenu_SetSelectedValue(self, value);
							self.Text:SetText(self:MakeWords(value));
							local parent = self:GetParent();
							parent.Profile:SetText(xrpSaved.auto[value] or "");
							parent:CheckButtons();
						end;
						function self:GetText()
							return UIDropDownMenu_GetSelectedValue(self);
						end;
					</OnLoad>
				</Scripts>
			</Button>
			<!-- Profile -->
			<Button name="XRPAutoProfile" parentKey="Profile" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.ProfileLabel" relativePoint="BOTTOMLEFT" x="-22" y="0"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						UIDropDownMenu_SetWidth(self, 260, 0);
						function self:SetText(value)
							UIDropDownMenu_Initialize(self, self.initialize);
							UIDropDownMenu_SetSelectedValue(self, value);
							self:GetParent():CheckButtons();
						end;
						function self:GetText()
							return UIDropDownMenu_GetSelectedValue(self);
						end;
					</OnLoad>
				</Scripts>
			</Button>
			<!-- Accept -->
			<Button parentKey="Accept" inherits="UIPanelButtonTemplate" text="ACCEPT">
				<Size x="96" y="21"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" x="26" y="4"/>
				</Anchors>
				<Scripts>
					<OnClick>
						self:GetParent():AcceptForm();
					</OnClick>
				</Scripts>
			</Button>
			<!-- Cancel -->
			<Button parentKey="Cancel" inherits="UIPanelButtonTemplate" text="CANCEL">
				<Size x="96" y="21"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-26" y="4"/>
				</Anchors>
				<Scripts>
					<OnClick>
						local parent = self:GetParent();
						parent.Form:SetText(parent.Form:GetText());
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Attributes>
			<Attribute name="UIPanelLayout-defined" type="boolean" value="true"/>
			<Attribute name="UIPanelLayout-enabled" type="boolean" value="true"/>
			<Attribute name="UIPanelLayout-area" type="string" value="right"/>
			<Attribute name="UIPanelLayout-pushable" type="number" value="5"/>
			<Attribute name="UIPanelLayout-whileDead" type="boolean" value="true"/>
		</Attributes>
		<Scripts>
			<OnLoad>
				self.TitleText:SetText(xrp.L["Profile Automation"]);
			</OnLoad>
			<OnShow>
				SetPortraitTexture(self.portrait, "player");
				self.Form:SetText("DEFAULT");
				PlaySound("igCharacterInfoOpen");
			</OnShow>
			<OnHide>
				PlaySound("igCharacterInfoClose");
			</OnHide>
		</Scripts>
	</Frame>
</Ui>
